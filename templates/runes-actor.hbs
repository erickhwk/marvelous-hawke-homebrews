<form class="dnd5e sheet flexcol" autocomplete="off" data-mhh-runes>

  <section class="standard-form">

    <fieldset>
      <legend>Runas de {{actor.name}}</legend>

      <p class="notes">
        Arraste uma runa do inventário para um item com slots. Clique na lixeira para removê-la.
      </p>

      <!-- ====================== OFENSIVAS ======================= -->
      <h3>Ofensivas (Armas & Focos)</h3>

      {{#if offensiveItems.length}}
        {{#each offensiveItems as |row|}}
          <div class="mhh-runes-item flexrow" data-item-id="{{row.id}}">

            <div class="item-image">
              <img src="{{row.img}}" width="36" height="36">
            </div>

            <div class="flexcol">
              <strong>{{row.name}}</strong>
              <div class="notes small">
                {{row.rarityLabel}} · Slots {{row.maxSlots}}
                {{#if row.equipped}}
                  · <span class="tag tag-success">Equipado</span>
                {{else}}
                  · <span class="tag tag-warning">Não equipado</span>
                {{/if}}
              </div>

              <div class="flexrow mhh-slot-row">
                {{#each row.slots as |slot|}}
                  <div class="mhh-slot" data-slot="{{slot.index}}">
                    {{#if slot.rune}}
                      <div class="mhh-slot-content">
                        <span>{{slot.label}}</span>
                        <a data-action="remove" data-item-id="{{../id}}" data-slot="{{slot.index}}">
                          <i class="fas fa-trash"></i>
                        </a>
                      </div>
                    {{else}}
                      <div class="notes small">Slot vazio</div>
                    {{/if}}
                  </div>
                {{/each}}
              </div>
            </div>

          </div>
        {{/each}}
      {{else}}
        <p class="notes small">Nenhum item ofensivo com slots.</p>
      {{/if}}

      <hr>

      <!-- ====================== DEFENSIVAS ======================= -->
      <h3>Defensivas (Armaduras & Escudos)</h3>

      {{#if defensiveItems.length}}
        {{#each defensiveItems as |row|}}
          <div class="mhh-runes-item flexrow" data-item-id="{{row.id}}">

            <div class="item-image">
              <img src="{{row.img}}" width="36" height="36">
            </div>

            <div class="flexcol">
              <strong>{{row.name}}</strong>
              <div class="notes small">
                {{row.rarityLabel}} · Slots {{row.maxSlots}}
                {{#if row.equipped}}
                  · <span class="tag tag-success">Equipado</span>
                {{else}}
                  · <span class="tag tag-warning">Não equipado</span>
                {{/if}}
              </div>

              <div class="flexrow mhh-slot-row">
                {{#each row.slots as |slot|}}
                  <div class="mhh-slot" data-slot="{{slot.index}}">
                    {{#if slot.rune}}
                      <div class="mhh-slot-content">
                        <span>{{slot.label}}</span>
                        <a data-action="remove" data-item-id="{{../id}}" data-slot="{{slot.index}}">
                          <i class="fas fa-trash"></i>
                        </a>
                      </div>
                    {{else}}
                      <div class="notes small">Slot vazio</div>
                    {{/if}}
                  </div>
                {{/each}}
              </div>

            </div>

          </div>
        {{/each}}
      {{else}}
        <p class="notes small">Nenhum item defensivo com slots.</p>
      {{/if}}

    </fieldset>
  </section>

</form>
